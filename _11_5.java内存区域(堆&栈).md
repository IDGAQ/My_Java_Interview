# 栈&堆(java内存区域)
---

```
Q: 聊聊堆和栈?
A: 堆和栈属于 java运行时内存区域。说到内存区域，JDK1.8前 和 1.8后是不一样的，具体表现在新版本用MetaSpace代替了MethodArea。

   JDK1.8之前👇
```
<p align="center">
  <img src="https://image-static.segmentfault.com/149/412/1494128630-d676bb0118026f8c_fix732" width="700" height="400">
</p>

```
A: JDK1.8之后(含1.8)👇
```

<p align="center">
  <img src="https://image-static.segmentfault.com/204/639/2046396098-6f30a13744cb5bf7_fix732" width="700" height="400">
</p>

```
Q: 为什么要移除MethodArea?
A: 以HotSpot虚拟机为例，设计团队使用永久代(PermGen)实现MethodArea以及GC的拓展，永久会导致内存溢出。GC回收的实现也慢
   
```
---

```
Q: 聊聊你对他们的了解
A:
   scope区别:
      绿色(线程隔离):本地方法栈，虚拟机栈，程序计数器
      蓝色(线程共享):堆，方法区
```

<p align="center">
  <img src="https://raw.githubusercontent.com/IDGAQ/Super_Cool_Notes/main/Stack%26Heap1.png" width="640" height="300">
</p>


